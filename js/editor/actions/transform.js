// koffee 1.4.0
var Transform, _, args, kerror, kstr, matchr, ref, reversed, slash,
    indexOf = [].indexOf,
    slice = [].slice;

ref = require('kxk'), reversed = ref.reversed, matchr = ref.matchr, kerror = ref.kerror, slash = ref.slash, kstr = ref.kstr, args = ref.args, _ = ref._;

Transform = (function() {
    Transform.transformNames = ['upper', 'lower', 'title', 'case', 'count', 'add', 'sub', 'up', 'down', 'sort', 'uniq', 'reverse', 'resolve', 'unresolve', 'dir', 'base', 'file', 'ext'];

    Transform.transformMenus = {
        Case: ['upper', 'lower', 'title', 'case'],
        Calc: ['count', 'add', 'sub'],
        Sort: ['up', 'down', 'sort', 'uniq', 'reverse'],
        Path: ['resolve', 'unresolve', 'dir', 'base', 'file', 'ext']
    };

    function Transform(editor1) {
        this.editor = editor1;
        this.editor.transform = this;
        this.last = null;
        this.caseFuncs = ['upper', 'lower', 'title'];
        this.resolveFuncs = ['resolve', 'unresolve'];
        this.sortFuncs = ['up', 'down'];
    }

    Transform.prototype.count = function(typ, offset, step) {
        var base, cs, i, numbers, pad;
        if (typ == null) {
            typ = 'dec';
        }
        if (offset == null) {
            offset = 0;
        }
        if (step == null) {
            step = 1;
        }
        offset = parseInt(offset);
        step = parseInt(step);
        this.editor["do"].start();
        this.editor.fillVirtualSpaces();
        cs = this.editor["do"].cursors();
        this.editor["do"].select(rangesFromPositions(cs));
        switch (typ) {
            case 'hex':
                base = 16;
                break;
            case 'bin':
                base = 2;
                break;
            default:
                base = 10;
        }
        pad = Number(step * (cs.length - 1) + offset).toString(base).length;
        numbers = (function() {
            var j, ref1, results;
            results = [];
            for (i = j = 0, ref1 = cs.length; 0 <= ref1 ? j < ref1 : j > ref1; i = 0 <= ref1 ? ++j : --j) {
                results.push(_.padStart(Number(step * i + offset).toString(base), pad, '0'));
            }
            return results;
        })();
        this.editor.replaceSelectedText(numbers);
        this.editor["do"].end();
        return 'count';
    };

    Transform.prototype.add = function(d) {
        if (d == null) {
            d = 1;
        }
        this.apply(function(t) {
            return kstr(parseInt(t) + parseInt(d));
        });
        return 'add';
    };

    Transform.prototype.sub = function(d) {
        if (d == null) {
            d = 1;
        }
        this.apply(function(t) {
            return kstr(parseInt(t) - parseInt(d));
        });
        return 'sub';
    };

    Transform.prototype.reverse = function() {
        this.trans(function(l) {
            return reversed(l);
        });
        return 'reverse';
    };

    Transform.prototype.sort = function() {
        return this.toggle(this.sortFuncs);
    };

    Transform.prototype.up = function() {
        this.trans(function(l) {
            return l.sort(function(a, b) {
                return a.localeCompare(b);
            });
        });
        return 'up';
    };

    Transform.prototype.down = function() {
        this.trans(function(l) {
            return reversed(l.sort(function(a, b) {
                return a.localeCompare(b);
            }));
        });
        return 'down';
    };

    Transform.prototype.uniq = function() {
        this.trans(function(l) {
            var a, j, len, r, v;
            v = [];
            r = [];
            for (j = 0, len = l.length; j < len; j++) {
                a = l[j];
                r.push(indexOf.call(v, a) >= 0 ? '' : (v.push(a), a));
            }
            return r;
        });
        return 'uniq';
    };

    Transform.prototype["case"] = function() {
        return this.toggle(this.caseFuncs);
    };

    Transform.prototype.upper = function() {
        this.apply(function(t) {
            return t.toUpperCase();
        });
        return 'upper';
    };

    Transform.prototype.lower = function() {
        this.apply(function(t) {
            return t.toLowerCase();
        });
        return 'lower';
    };

    Transform.prototype.title = function() {
        var pattern;
        pattern = /\w+/;
        this.apply(function(t) {
            var j, len, r, ref1;
            ref1 = matchr.ranges(/\w+/, t);
            for (j = 0, len = ref1.length; j < len; j++) {
                r = ref1[j];
                t = t.splice(r.start, r.match.length, r.match.substr(0, 1).toUpperCase() + r.match.slice(1).toLowerCase());
            }
            return t;
        });
        return 'title';
    };

    Transform.prototype.toggleResolve = function() {
        return this.toggle(this.resolveFuncs);
    };

    Transform.prototype.resolve = function() {
        var cwd;
        cwd = process.cwd();
        if (this.editor.currentFile != null) {
            process.chdir(slash.dir(this.editor.currentFile));
        }
        this.apply(function(t) {
            return slash.resolve(t);
        });
        process.chdir(cwd);
        return 'resolve';
    };

    Transform.prototype.unresolve = function() {
        this.apply(function(t) {
            return slash.unresolve(t);
        });
        return 'unresolve';
    };

    Transform.prototype.base = function() {
        this.apply(function(t) {
            return slash.base(t);
        });
        return 'basename';
    };

    Transform.prototype.dir = function() {
        this.apply(function(t) {
            return slash.dir(t);
        });
        return 'dirname';
    };

    Transform.prototype.ext = function() {
        this.apply(function(t) {
            return slash.ext(t);
        });
        return 'ext';
    };

    Transform.prototype.file = function() {
        this.apply(function(t) {
            return slash.file(t);
        });
        return 'file';
    };

    Transform.prototype.apply = function(func) {
        return this.tfunc({
            apply: func
        });
    };

    Transform.prototype.trans = function(func) {
        return this.tfunc({
            trans: func
        });
    };

    Transform.prototype.tfunc = function(opt) {
        var selections, tl;
        if (!this.editor.numSelections()) {
            if (opt.trans) {
                this.editor.selectMoreLines();
            } else {
                this.editor.select(this.editor.rangesForWordsAtCursors());
            }
        }
        selections = this.editor.selections();
        tl = this.editor.textsInRanges(selections);
        if (opt.apply != null) {
            tl = tl.map(opt.apply);
        }
        if (opt.trans != null) {
            tl = opt.trans(tl);
        }
        this.editor["do"].start();
        this.editor.replaceSelectedText(tl);
        return this.editor["do"].end();
    };

    Transform.prototype.toggle = function(funcList) {
        var nextIndex, ref1;
        if (ref1 = this.last, indexOf.call(funcList, ref1) < 0) {
            this.last = _.last(funcList);
        }
        nextIndex = (1 + funcList.indexOf(this.last)) % funcList.length;
        return this["do"](funcList[nextIndex]);
    };

    Transform.prototype["do"] = function() {
        var args, f, transName;
        transName = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];
        f = this[transName];
        if (f && _.isFunction(f)) {
            this.last = f.apply(this, args);
        } else {
            return kerror("unhandled transform " + transName);
        }
        return this.last;
    };

    Transform["do"] = function() {
        var args, editor, ref1, t, transName;
        editor = arguments[0], transName = arguments[1], args = 3 <= arguments.length ? slice.call(arguments, 2) : [];
        t = (ref1 = editor.transform) != null ? ref1 : new Transform(editor);
        return t["do"].apply(t, [transName].concat(args));
    };

    return Transform;

})();

module.exports = {
    actions: {
        menu: 'Misc',
        toggleCase: {
            separator: true,
            name: 'Toggle Case',
            text: 'toggles selected texts between lower- upper- and title-case',
            combo: 'command+alt+ctrl+u',
            accel: 'alt+ctrl+u'
        },
        reverseSelection: {
            name: 'Reverse Selection',
            text: 'reverses the order of selected texts',
            combo: 'command+alt+ctrl+r',
            accel: 'alt+ctrl+r'
        },
        doTransform: {
            name: 'doTransform'
        }
    },
    toggleCase: function() {
        return Transform["do"](this, 'case');
    },
    reverseSelection: function() {
        return Transform["do"](this, 'reverse');
    },
    doTransform: function(arg) {
        return Transform["do"](this, arg);
    },
    Transform: Transform,
    transformNames: Transform.transformNames
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNmb3JtLmpzIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzIjpbIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBT0EsSUFBQSw4REFBQTtJQUFBOzs7QUFBQSxNQUFxRCxPQUFBLENBQVEsS0FBUixDQUFyRCxFQUFFLHVCQUFGLEVBQVksbUJBQVosRUFBb0IsbUJBQXBCLEVBQTRCLGlCQUE1QixFQUFtQyxlQUFuQyxFQUF5QyxlQUF6QyxFQUErQzs7QUFFekM7SUFFRixTQUFDLENBQUEsY0FBRCxHQUFrQixDQUNkLE9BRGMsRUFDTixPQURNLEVBQ0UsT0FERixFQUNVLE1BRFYsRUFFZCxPQUZjLEVBRU4sS0FGTSxFQUVBLEtBRkEsRUFHZCxJQUhjLEVBR1QsTUFIUyxFQUdGLE1BSEUsRUFHSyxNQUhMLEVBSWQsU0FKYyxFQUtkLFNBTGMsRUFLSixXQUxJLEVBTWQsS0FOYyxFQU1SLE1BTlEsRUFPZCxNQVBjLEVBT1AsS0FQTzs7SUFTbEIsU0FBQyxDQUFBLGNBQUQsR0FDSTtRQUFBLElBQUEsRUFBTSxDQUFDLE9BQUQsRUFBUyxPQUFULEVBQWlCLE9BQWpCLEVBQXlCLE1BQXpCLENBQU47UUFDQSxJQUFBLEVBQU0sQ0FBQyxPQUFELEVBQVMsS0FBVCxFQUFlLEtBQWYsQ0FETjtRQUVBLElBQUEsRUFBTSxDQUFDLElBQUQsRUFBTSxNQUFOLEVBQWEsTUFBYixFQUFvQixNQUFwQixFQUEyQixTQUEzQixDQUZOO1FBR0EsSUFBQSxFQUFNLENBQUUsU0FBRixFQUFZLFdBQVosRUFBd0IsS0FBeEIsRUFBOEIsTUFBOUIsRUFBcUMsTUFBckMsRUFBNEMsS0FBNUMsQ0FITjs7O0lBS0QsbUJBQUMsT0FBRDtRQUFDLElBQUMsQ0FBQSxTQUFEO1FBRUEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxTQUFSLEdBQW9CO1FBQ3BCLElBQUMsQ0FBQSxJQUFELEdBQWdCO1FBQ2hCLElBQUMsQ0FBQSxTQUFELEdBQWdCLENBQUMsT0FBRCxFQUFTLE9BQVQsRUFBaUIsT0FBakI7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c0NBRFA7WUFFQSxLQUFBLEVBQU8sb0JBRlA7WUFHQSxLQUFBLEVBQU8sWUFIUDtTQVZKO1FBZUEsV0FBQSxFQUNJO1lBQUEsSUFBQSxFQUFPLGFBQVA7U0FoQko7S0FGSjtJQW9CQSxVQUFBLEVBQW1CLFNBQUE7ZUFBRyxTQUFTLEVBQUMsRUFBRCxFQUFULENBQWEsSUFBYixFQUFnQixNQUFoQjtJQUFILENBcEJuQjtJQXFCQSxnQkFBQSxFQUFtQixTQUFBO2VBQUcsU0FBUyxFQUFDLEVBQUQsRUFBVCxDQUFhLElBQWIsRUFBZ0IsU0FBaEI7SUFBSCxDQXJCbkI7SUFzQkEsV0FBQSxFQUFhLFNBQUMsR0FBRDtlQUFTLFNBQVMsRUFBQyxFQUFELEVBQVQsQ0FBYSxJQUFiLEVBQWdCLEdBQWhCO0lBQVQsQ0F0QmI7SUF1QkEsU0FBQSxFQUFtQixTQXZCbkI7SUF3QkEsY0FBQSxFQUFtQixTQUFTLENBQUMsY0F4QjdCIiwic291cmNlc0NvbnRlbnQiOlsiXG4jIDAwMDAwMDAwMCAgMDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgIDAwMDAwMDAgIDAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAwICAgMDAgICAgIDAwXG4jICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMDAgIDAwMCAgMDAwICAgICAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwXG4jICAgIDAwMCAgICAgMDAwMDAwMCAgICAwMDAwMDAwMDAgIDAwMCAwIDAwMCAgMDAwMDAwMCAgIDAwMDAwMCAgICAwMDAgICAwMDAgIDAwMDAwMDAgICAgMDAwMDAwMDAwXG4jICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgMDAwMCAgICAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwIDAgMDAwXG4jICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgIDAwMCAgICAgICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwICAgMDAwXG5cbnsgcmV2ZXJzZWQsIG1hdGNociwga2Vycm9yLCBzbGFzaCwga3N0ciwgYXJncywgXyB9ID0gcmVxdWlyZSAna3hrJ1xuXG5jbGFzcyBUcmFuc2Zvcm1cblxuICAgIEB0cmFuc2Zvcm1OYW1lcyA9IFtcbiAgICAgICAgJ3VwcGVyJyAnbG93ZXInICd0aXRsZScgJ2Nhc2UnXG4gICAgICAgICdjb3VudCcgJ2FkZCcgJ3N1YidcbiAgICAgICAgJ3VwJyAnZG93bicgJ3NvcnQnICd1bmlxJ1xuICAgICAgICAncmV2ZXJzZSdcbiAgICAgICAgJ3Jlc29sdmUnICd1bnJlc29sdmUnXG4gICAgICAgICdkaXInICdiYXNlJ1xuICAgICAgICAnZmlsZScgJ2V4dCdcbiAgICBdXG4gICAgQHRyYW5zZm9ybU1lbnVzID1cbiAgICAgICAgQ2FzZTogWyd1cHBlcicgJ2xvd2VyJyAndGl0bGUnICdjYXNlJ11cbiAgICAgICAgQ2FsYzogWydjb3VudCcgJ2FkZCcgJ3N1YiddXG4gICAgICAgIFNvcnQ6IFsndXAnICdkb3duJyAnc29ydCcgJ3VuaXEnICdyZXZlcnNlJ11cbiAgICAgICAgUGF0aDogWyAncmVzb2x2ZScgJ3VucmVzb2x2ZScgJ2RpcicgJ2Jhc2UnICdmaWxlJyAnZXh0JyBdXG5cbiAgICBAOiAoQGVkaXRvcikgLT5cblxuICAgICAgICBAZWRpdG9yLnRyYW5zZm9ybSA9IEBcbiAgICAgICAgQGxhc3QgICAgICAgICA9IG51bGxcbiAgICAgICAgQGNhc2VGdW5jcyAgICA9IFsndXBwZXInICdsb3dlcicgJ3RpdGxlJ11cbiAgICAgICAgQHJlc29sdmVGdW5jcyA9IFsncmVzb2x2ZScgJ3VucmVzb2x2ZSddXG4gICAgICAgIEBzb3J0RnVuY3MgICAgPSBbJ3VwJyAnZG93biddXG5cbiAgICAjICAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAwMDAwMDBcbiAgICAjIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMCAgMDAwICAgICAwMDBcbiAgICAjIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwIDAgMDAwICAgICAwMDBcbiAgICAjIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAwMDAwICAgICAwMDBcbiAgICAjICAwMDAwMDAwICAgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwICAgMDAwICAgICAwMDBcblxuICAgIGNvdW50OiAodHlwPSdkZWMnLCBvZmZzZXQ9MCwgc3RlcD0xKSAtPlxuXG4gICAgICAgIG9mZnNldCA9IHBhcnNlSW50IG9mZnNldFxuICAgICAgICBzdGVwICAgPSBwYXJzZUludCBzdGVwXG5cbiAgICAgICAgQGVkaXRvci5kby5zdGFydCgpXG4gICAgICAgIEBlZGl0b3IuZmlsbFZpcnR1YWxTcGFjZXMoKVxuICAgICAgICBjcyA9IEBlZGl0b3IuZG8uY3Vyc29ycygpXG4gICAgICAgIEBlZGl0b3IuZG8uc2VsZWN0IHJhbmdlc0Zyb21Qb3NpdGlvbnMgY3NcblxuICAgICAgICBzd2l0Y2ggdHlwXG4gICAgICAgICAgICB3aGVuICdoZXgnXG4gICAgICAgICAgICAgICAgYmFzZSA9IDE2XG4gICAgICAgICAgICB3aGVuICdiaW4nXG4gICAgICAgICAgICAgICAgYmFzZSA9IDJcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBiYXNlID0gMTBcblxuICAgICAgICBwYWQgPSBOdW1iZXIoc3RlcCooY3MubGVuZ3RoLTEpK29mZnNldCkudG9TdHJpbmcoYmFzZSkubGVuZ3RoXG4gICAgICAgIG51bWJlcnMgPSAoXy5wYWRTdGFydCBOdW1iZXIoc3RlcCppK29mZnNldCkudG9TdHJpbmcoYmFzZSksIHBhZCwgJzAnIGZvciBpIGluIFswLi4uY3MubGVuZ3RoXSlcblxuICAgICAgICBAZWRpdG9yLnJlcGxhY2VTZWxlY3RlZFRleHQgbnVtYmVyc1xuICAgICAgICBAZWRpdG9yLmRvLmVuZCgpXG4gICAgICAgICdjb3VudCdcblxuICAgIGFkZDogKGQ9MSkgLT5cblxuICAgICAgICBAYXBwbHkgKHQpIC0+IGtzdHIocGFyc2VJbnQodCkgKyBwYXJzZUludChkKSlcbiAgICAgICAgJ2FkZCdcblxuICAgIHN1YjogKGQ9MSkgLT5cblxuICAgICAgICBAYXBwbHkgKHQpIC0+IGtzdHIocGFyc2VJbnQodCkgLSBwYXJzZUludChkKSlcbiAgICAgICAgJ3N1YidcblxuICAgICMgMDAwMDAwMDAgICAwMDAwMDAwMCAgMDAwICAgMDAwICAwMDAwMDAwMCAgMDAwMDAwMDAgICAgMDAwMDAwMCAgMDAwMDAwMDBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMFxuICAgICMgMDAwMDAwMCAgICAwMDAwMDAwICAgIDAwMCAwMDAgICAwMDAwMDAwICAgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwMDAwMFxuICAgICMgMDAwICAgMDAwICAwMDAgICAgICAgICAgMDAwICAgICAwMDAgICAgICAgMDAwICAgMDAwICAgICAgIDAwMCAgMDAwXG4gICAgIyAwMDAgICAwMDAgIDAwMDAwMDAwICAgICAgMCAgICAgIDAwMDAwMDAwICAwMDAgICAwMDAgIDAwMDAwMDAgICAwMDAwMDAwMFxuXG4gICAgcmV2ZXJzZTogLT5cbiAgICAgICAgQHRyYW5zIChsKSAtPiByZXZlcnNlZCBsXG4gICAgICAgICdyZXZlcnNlJ1xuXG4gICAgIyAgMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAwMDAwMCAgIDAwMDAwMDAwMFxuICAgICMgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgICAwMDBcbiAgICAjIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAgICAgICAgMDAwXG4gICAgIyAgICAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMFxuICAgICMgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwICAgMDAwICAgICAwMDBcblxuICAgIHNvcnQ6IC0+IEB0b2dnbGUgQHNvcnRGdW5jc1xuXG4gICAgdXA6IC0+XG4gICAgICAgIEB0cmFucyAobCkgLT4gbC5zb3J0IChhLGIpIC0+IGEubG9jYWxlQ29tcGFyZSBiXG4gICAgICAgICd1cCdcblxuICAgIGRvd246IC0+XG4gICAgICAgIEB0cmFucyAobCkgLT4gcmV2ZXJzZWQgbC5zb3J0IChhLGIpIC0+IGEubG9jYWxlQ29tcGFyZSBiXG4gICAgICAgICdkb3duJ1xuXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwMDAwMFxuICAgICMgMDAwICAgMDAwICAwMDAwICAwMDAgIDAwMCAgMDAwICAgMDAwXG4gICAgIyAwMDAgICAwMDAgIDAwMCAwIDAwMCAgMDAwICAwMDAgMDAgMDBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAwMDAwICAwMDAgIDAwMCAwMDAwXG4gICAgIyAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwICAgMDAwMDAgMDBcblxuICAgIHVuaXE6IC0+XG4gICAgICAgIEB0cmFucyAobCkgLT5cbiAgICAgICAgICAgIHYgPSBbXVxuICAgICAgICAgICAgciA9IFtdXG4gICAgICAgICAgICBmb3IgYSBpbiBsXG4gICAgICAgICAgICAgICAgci5wdXNoIGlmIGEgaW4gdiB0aGVuICcnIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdi5wdXNoIGFcbiAgICAgICAgICAgICAgICAgICAgYVxuICAgICAgICAgICAgclxuICAgICAgICAndW5pcSdcblxuICAgICMgIDAwMDAwMDAgICAwMDAwMDAwICAgIDAwMDAwMDAgIDAwMDAwMDAwXG4gICAgIyAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwXG4gICAgIyAwMDAgICAgICAgMDAwMDAwMDAwICAwMDAwMDAwICAgMDAwMDAwMFxuICAgICMgMDAwICAgICAgIDAwMCAgIDAwMCAgICAgICAwMDAgIDAwMFxuICAgICMgIDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgIDAwMDAwMDAwXG5cbiAgICBjYXNlOiAtPiBAdG9nZ2xlIEBjYXNlRnVuY3NcblxuICAgIHVwcGVyOiAtPlxuXG4gICAgICAgIEBhcHBseSAodCkgLT4gdC50b1VwcGVyQ2FzZSgpXG4gICAgICAgICd1cHBlcidcblxuICAgIGxvd2VyOiAtPlxuXG4gICAgICAgIEBhcHBseSAodCkgLT4gdC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICdsb3dlcidcblxuICAgIHRpdGxlOiAtPlxuXG4gICAgICAgIHBhdHRlcm4gPSAvXFx3Ky9cbiAgICAgICAgQGFwcGx5ICh0KSAtPlxuICAgICAgICAgICAgZm9yIHIgaW4gbWF0Y2hyLnJhbmdlcyAvXFx3Ky8sIHRcbiAgICAgICAgICAgICAgICB0ID0gdC5zcGxpY2Ugci5zdGFydCwgci5tYXRjaC5sZW5ndGgsIHIubWF0Y2guc3Vic3RyKDAsMSkudG9VcHBlckNhc2UoKSArIHIubWF0Y2guc2xpY2UoMSkudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgdFxuICAgICAgICAndGl0bGUnXG5cbiAgICAjIDAwMDAwMDAwICAgMDAwMDAwMDAgICAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAgICAgIDAwMCAgIDAwMCAgMDAwMDAwMDBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgIDAwMCAgIDAwMCAgMDAwXG4gICAgIyAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAwICAgMDAwICAgMDAwICAwMDAgICAgICAgMDAwIDAwMCAgIDAwMDAwMDBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgICAgICAgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICAgIDAwMCAgICAgMDAwXG4gICAgIyAwMDAgICAwMDAgIDAwMDAwMDAwICAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAwICAgICAgMCAgICAgIDAwMDAwMDAwXG5cbiAgICB0b2dnbGVSZXNvbHZlOiAtPiBAdG9nZ2xlIEByZXNvbHZlRnVuY3NcblxuICAgIHJlc29sdmU6IC0+XG5cbiAgICAgICAgY3dkID0gcHJvY2Vzcy5jd2QoKVxuICAgICAgICBpZiBAZWRpdG9yLmN1cnJlbnRGaWxlP1xuICAgICAgICAgICAgcHJvY2Vzcy5jaGRpciBzbGFzaC5kaXIgQGVkaXRvci5jdXJyZW50RmlsZVxuICAgICAgICBAYXBwbHkgKHQpIC0+IHNsYXNoLnJlc29sdmUgdFxuICAgICAgICBwcm9jZXNzLmNoZGlyIGN3ZFxuICAgICAgICAncmVzb2x2ZSdcblxuICAgIHVucmVzb2x2ZTogLT5cblxuICAgICAgICBAYXBwbHkgKHQpIC0+IHNsYXNoLnVucmVzb2x2ZSB0XG4gICAgICAgICd1bnJlc29sdmUnXG5cbiAgICAjIDAwMDAwMDAwICAgIDAwMDAwMDAgICAwMDAwMDAwMDAgIDAwMCAgIDAwMFxuICAgICMgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgMDAwXG4gICAgIyAwMDAwMDAwMCAgIDAwMDAwMDAwMCAgICAgMDAwICAgICAwMDAwMDAwMDBcbiAgICAjIDAwMCAgICAgICAgMDAwICAgMDAwICAgICAwMDAgICAgIDAwMCAgIDAwMFxuICAgICMgMDAwICAgICAgICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgMDAwXG5cbiAgICBiYXNlOiAtPlxuXG4gICAgICAgIEBhcHBseSAodCkgLT4gc2xhc2guYmFzZSB0XG4gICAgICAgICdiYXNlbmFtZSdcblxuICAgIGRpcjogLT5cblxuICAgICAgICBAYXBwbHkgKHQpIC0+IHNsYXNoLmRpciB0XG4gICAgICAgICdkaXJuYW1lJ1xuXG4gICAgZXh0OiAtPlxuXG4gICAgICAgIEBhcHBseSAodCkgLT4gc2xhc2guZXh0IHRcbiAgICAgICAgJ2V4dCdcblxuICAgIGZpbGU6IC0+XG5cbiAgICAgICAgQGFwcGx5ICh0KSAtPiBzbGFzaC5maWxlIHRcbiAgICAgICAgJ2ZpbGUnXG5cbiAgICAjICAwMDAwMDAwICAgMDAwMDAwMDAgICAwMDAwMDAwMCAgIDAwMCAgICAgIDAwMCAgIDAwMFxuICAgICMgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAwMDBcbiAgICAjIDAwMDAwMDAwMCAgMDAwMDAwMDAgICAwMDAwMDAwMCAgIDAwMCAgICAgICAgMDAwMDBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgICAgICAwMDAgICAgICAgIDAwMCAgICAgICAgIDAwMFxuICAgICMgMDAwICAgMDAwICAwMDAgICAgICAgIDAwMCAgICAgICAgMDAwMDAwMCAgICAgMDAwXG5cbiAgICBhcHBseTogKGZ1bmMpIC0+IEB0ZnVuYyBhcHBseTpmdW5jXG5cbiAgICAjIDAwMDAwMDAwMCAgMDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgIDAwMDAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMDAgIDAwMCAgMDAwXG4gICAgIyAgICAwMDAgICAgIDAwMDAwMDAgICAgMDAwMDAwMDAwICAwMDAgMCAwMDAgIDAwMDAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgMDAwMCAgICAgICAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMFxuXG4gICAgdHJhbnM6IChmdW5jKSAtPiBAdGZ1bmMgdHJhbnM6ZnVuY1xuXG4gICAgIyAwMDAwMDAwMDAgIDAwMDAwMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgIDAwMDAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwMCAgMDAwICAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwMDAwICAgIDAwMCAgIDAwMCAgMDAwIDAgMDAwICAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAwMDAwICAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgICAgICAwMDAwMDAwICAgMDAwICAgMDAwICAgMDAwMDAwMFxuXG4gICAgdGZ1bmM6IChvcHQpIC0+XG5cbiAgICAgICAgaWYgbm90IEBlZGl0b3IubnVtU2VsZWN0aW9ucygpXG5cbiAgICAgICAgICAgIGlmIG9wdC50cmFuc1xuICAgICAgICAgICAgICAgIEBlZGl0b3Iuc2VsZWN0TW9yZUxpbmVzKClcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBAZWRpdG9yLnNlbGVjdCBAZWRpdG9yLnJhbmdlc0ZvcldvcmRzQXRDdXJzb3JzKClcblxuICAgICAgICBzZWxlY3Rpb25zID0gQGVkaXRvci5zZWxlY3Rpb25zKClcblxuICAgICAgICB0bCA9IEBlZGl0b3IudGV4dHNJblJhbmdlcyBzZWxlY3Rpb25zXG4gICAgICAgIHRsID0gdGwubWFwIG9wdC5hcHBseSBpZiBvcHQuYXBwbHk/XG4gICAgICAgIHRsID0gb3B0LnRyYW5zIHRsICAgICBpZiBvcHQudHJhbnM/XG5cbiAgICAgICAgQGVkaXRvci5kby5zdGFydCgpXG4gICAgICAgIEBlZGl0b3IucmVwbGFjZVNlbGVjdGVkVGV4dCB0bFxuICAgICAgICBAZWRpdG9yLmRvLmVuZCgpXG5cbiAgICAjIDAwMDAwMDAwMCAgIDAwMDAwMDAgICAgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwICAgICAgMDAwMDAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAgICAgIDAwMCAgICAgICAgMDAwICAgICAgMDAwXG4gICAgIyAgICAwMDAgICAgIDAwMCAgIDAwMCAgMDAwICAwMDAwICAwMDAgIDAwMDAgIDAwMCAgICAgIDAwMDAwMDBcbiAgICAjICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgMDAwXG4gICAgIyAgICAwMDAgICAgICAwMDAwMDAwICAgIDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMDAwMDAgIDAwMDAwMDAwXG5cbiAgICB0b2dnbGU6IChmdW5jTGlzdCkgLT5cblxuICAgICAgICBpZiBAbGFzdCBub3QgaW4gZnVuY0xpc3RcbiAgICAgICAgICAgIEBsYXN0ID0gXy5sYXN0IGZ1bmNMaXN0XG5cbiAgICAgICAgbmV4dEluZGV4ID0gKDEgKyBmdW5jTGlzdC5pbmRleE9mIEBsYXN0KSAlIGZ1bmNMaXN0Lmxlbmd0aFxuICAgICAgICBAZG8gZnVuY0xpc3RbbmV4dEluZGV4XVxuXG4gICAgIyAwMDAwMDAwICAgICAwMDAwMDAwXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMFxuICAgICMgMDAwICAgMDAwICAwMDAgICAwMDBcbiAgICAjIDAwMCAgIDAwMCAgMDAwICAgMDAwXG4gICAgIyAwMDAwMDAwICAgICAwMDAwMDAwXG5cbiAgICBkbzogKHRyYW5zTmFtZSwgYXJncy4uLikgLT5cblxuICAgICAgICBmID0gQFt0cmFuc05hbWVdXG5cbiAgICAgICAgaWYgZiBhbmQgXy5pc0Z1bmN0aW9uIGZcbiAgICAgICAgICAgIEBsYXN0ID0gZi5hcHBseSBALCBhcmdzXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBrZXJyb3IgXCJ1bmhhbmRsZWQgdHJhbnNmb3JtICN7dHJhbnNOYW1lfVwiXG5cbiAgICAgICAgQGxhc3RcblxuICAgIEBkbzogKGVkaXRvciwgdHJhbnNOYW1lLCBhcmdzLi4uKSAtPlxuXG4gICAgICAgIHQgPSBlZGl0b3IudHJhbnNmb3JtID8gbmV3IFRyYW5zZm9ybSBlZGl0b3JcbiAgICAgICAgdC5kby5hcHBseSB0LCBbdHJhbnNOYW1lXS5jb25jYXQgYXJnc1xuXG5tb2R1bGUuZXhwb3J0cyA9XG5cbiAgICBhY3Rpb25zOlxuXG4gICAgICAgIG1lbnU6ICdNaXNjJ1xuXG4gICAgICAgIHRvZ2dsZUNhc2U6XG4gICAgICAgICAgICBzZXBhcmF0b3I6IHRydWVcbiAgICAgICAgICAgIG5hbWU6ICAnVG9nZ2xlIENhc2UnXG4gICAgICAgICAgICB0ZXh0OiAgJ3RvZ2dsZXMgc2VsZWN0ZWQgdGV4dHMgYmV0d2VlbiBsb3dlci0gdXBwZXItIGFuZCB0aXRsZS1jYXNlJ1xuICAgICAgICAgICAgY29tYm86ICdjb21tYW5kK2FsdCtjdHJsK3UnXG4gICAgICAgICAgICBhY2NlbDogJ2FsdCtjdHJsK3UnXG5cbiAgICAgICAgcmV2ZXJzZVNlbGVjdGlvbjpcbiAgICAgICAgICAgIG5hbWU6ICAnUmV2ZXJzZSBTZWxlY3Rpb24nXG4gICAgICAgICAgICB0ZXh0OiAgJ3JldmVyc2VzIHRoZSBvcmRlciBvZiBzZWxlY3RlZCB0ZXh0cydcbiAgICAgICAgICAgIGNvbWJvOiAnY29tbWFuZCthbHQrY3RybCtyJ1xuICAgICAgICAgICAgYWNjZWw6ICdhbHQrY3RybCtyJ1xuXG4gICAgICAgIGRvVHJhbnNmb3JtOlxuICAgICAgICAgICAgbmFtZTogICdkb1RyYW5zZm9ybSdcblxuICAgIHRvZ2dsZUNhc2U6ICAgICAgICAtPiBUcmFuc2Zvcm0uZG8gQCwgJ2Nhc2UnXG4gICAgcmV2ZXJzZVNlbGVjdGlvbjogIC0+IFRyYW5zZm9ybS5kbyBALCAncmV2ZXJzZSdcbiAgICBkb1RyYW5zZm9ybTogKGFyZykgLT4gVHJhbnNmb3JtLmRvIEAsIGFyZ1xuICAgIFRyYW5zZm9ybTogICAgICAgICBUcmFuc2Zvcm1cbiAgICB0cmFuc2Zvcm1OYW1lczogICAgVHJhbnNmb3JtLnRyYW5zZm9ybU5hbWVzXG4iXX0=
//# sourceURL=../../../coffee/editor/actions/transform.coffee